@tailwind base;
@tailwind components;
@tailwind utilities;

/**
 * OpenAI ChatGPT Apps SDK Design Tokens
 * Based on official design system from @ainativekit/ui
 */

:root {
  /* Light Theme Colors */
  --ai-color-bg-primary: #ffffff;
  --ai-color-bg-secondary: #e8e8e8;
  --ai-color-bg-tertiary: #f3f3f3;
  --ai-color-text-primary: #0d0d0d;
  --ai-color-text-secondary: #5d5d5d;
  --ai-color-text-tertiary: #8f8f8f;
  --ai-color-text-inverted: #1b1b1f;
  --ai-color-icon-primary: #0d0d0d;
  --ai-color-icon-secondary: #5d5d5d;
  --ai-color-icon-tertiary: #8f8f8f;

  /* Brand Colors */
  --ai-color-brand-primary: #0285ff;
  --ai-color-brand-primary-hover: color-mix(in srgb, var(--ai-color-brand-primary) 85%, black);
  --ai-color-brand-primary-active: color-mix(in srgb, var(--ai-color-brand-primary) 75%, black);
  --ai-color-brand-on-primary: #ffffff;
  --ai-color-brand-success: #008635;
  --ai-color-brand-success-hover: color-mix(in srgb, var(--ai-color-brand-success) 85%, black);
  --ai-color-brand-warning: #e25507;
  --ai-color-brand-warning-hover: color-mix(in srgb, var(--ai-color-brand-warning) 85%, black);
  --ai-color-brand-error: #e02e2a;
  --ai-color-brand-error-hover: color-mix(in srgb, var(--ai-color-brand-error) 85%, black);

  /* Borders */
  --ai-color-border-light: rgba(13, 13, 13, 0.05);
  --ai-color-border-default: rgba(13, 13, 13, 0.1);
  --ai-color-border-heavy: rgba(13, 13, 13, 0.15);

  /* Interactive States */
  --ai-state-hover-background: rgba(13, 13, 13, 0.08);
  --ai-state-hover-opacity: 0.9;
  --ai-state-disabled-opacity: 0.4;
  --ai-state-focus-outline: #0285ff;
  --ai-state-focus-offset: 2px;

  /* Typography */
  --ai-font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --ai-font-weight-light: 300;
  --ai-font-weight-normal: 400;
  --ai-font-weight-medium: 500;
  --ai-font-weight-semibold: 600;
  --ai-font-weight-bold: 700;

  --ai-font-size-h1: 36px;
  --ai-line-height-h1: 40px;
  --ai-font-weight-h1: var(--ai-font-weight-semibold);
  --ai-letter-spacing-h1: -0.1px;

  --ai-font-size-h2: 24px;
  --ai-line-height-h2: 28px;
  --ai-font-weight-h2: var(--ai-font-weight-semibold);
  --ai-letter-spacing-h2: -0.25px;

  --ai-font-size-h3: 18px;
  --ai-line-height-h3: 26px;
  --ai-font-weight-h3: var(--ai-font-weight-normal);
  --ai-letter-spacing-h3: -0.45px;

  --ai-font-size-body: 16px;
  --ai-line-height-body: 26px;
  --ai-font-weight-body: var(--ai-font-weight-normal);
  --ai-letter-spacing-body: -0.4px;

  --ai-font-size-body-emph: 16px;
  --ai-line-height-body-emph: 26px;
  --ai-font-weight-body-emph: var(--ai-font-weight-semibold);
  --ai-letter-spacing-body-emph: -0.4px;

  --ai-font-size-body-small: 14px;
  --ai-line-height-body-small: 20px;
  --ai-font-weight-body-small: var(--ai-font-weight-normal);
  --ai-letter-spacing-body-small: -0.3px;

  --ai-font-size-body-small-emph: 14px;
  --ai-line-height-body-small-emph: 20px;
  --ai-font-weight-body-small-emph: var(--ai-font-weight-semibold);
  --ai-letter-spacing-body-small-emph: -0.3px;

  --ai-font-size-caption: 12px;
  --ai-line-height-caption: 16px;
  --ai-font-weight-caption: var(--ai-font-weight-normal);
  --ai-letter-spacing-caption: -0.1px;

  --ai-font-size-button: 15px;
  --ai-line-height-button: 24px;
  --ai-font-weight-button: var(--ai-font-weight-medium);
  --ai-letter-spacing-button: -0.24px;

  --ai-font-size-badge: 14px;
  --ai-line-height-badge: 18px;
  --ai-font-weight-badge: var(--ai-font-weight-semibold);
  --ai-letter-spacing-badge: 0px;

  /* Spacing */
  --ai-spacing-0: 0px;
  --ai-spacing-1: 2px;
  --ai-spacing-2: 4px;
  --ai-spacing-4: 8px;
  --ai-spacing-6: 12px;
  --ai-spacing-8: 16px;
  --ai-spacing-10: 20px;
  --ai-spacing-12: 24px;
  --ai-spacing-16: 32px;
  --ai-spacing-20: 40px;
  --ai-spacing-24: 48px;
  --ai-spacing-32: 64px;

  /* Radius */
  --ai-radius-none: 0px;
  --ai-radius-sm: 4px;
  --ai-radius-md: 8px;
  --ai-radius-base: 12px;
  --ai-radius-lg: 16px;
  --ai-radius-xl: 24px;
  --ai-radius-full: 9999px;

  /* Elevation */
  --ai-elevation-0-shadow: none;
  --ai-elevation-1-shadow: 0px 4px 16px rgba(0, 0, 0, 0.05);
  --ai-elevation-2-shadow: 0px 6px 24px rgba(0, 0, 0, 0.08);
  --ai-elevation-3-shadow: 0px 10px 32px rgba(0, 0, 0, 0.1);
  --ai-elevation-4-shadow: 0px 12px 40px rgba(0, 0, 0, 0.12);
  --ai-elevation-5-shadow: 0px 16px 48px rgba(0, 0, 0, 0.14);

  /* Opacity */
  --ai-opacity-full: 1;
  --ai-opacity-subtle: 0.7;
  --ai-opacity-muted: 0.5;
  --ai-opacity-disabled: 0.4;
}

@layer base {
  body {
    background: var(--ai-color-bg-primary);
    color: var(--ai-color-text-primary);
    font-family: var(--ai-font-family);
    font-size: var(--ai-font-size-body);
    line-height: var(--ai-line-height-body);
    font-weight: var(--ai-font-weight-body);
    letter-spacing: var(--ai-letter-spacing-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-size: var(--ai-font-size-h1);
    line-height: var(--ai-line-height-h1);
    font-weight: var(--ai-font-weight-h1);
    letter-spacing: var(--ai-letter-spacing-h1);
    color: var(--ai-color-text-primary);
  }

  h2 {
    font-size: var(--ai-font-size-h2);
    line-height: var(--ai-line-height-h2);
    font-weight: var(--ai-font-weight-h2);
    letter-spacing: var(--ai-letter-spacing-h2);
    color: var(--ai-color-text-primary);
  }

  h3 {
    font-size: var(--ai-font-size-h3);
    line-height: var(--ai-line-height-h3);
    font-weight: var(--ai-font-weight-h3);
    letter-spacing: var(--ai-letter-spacing-h3);
    color: var(--ai-color-text-primary);
  }
}

@layer components {
  /* Card Component */
  .chatkit-card {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--ai-spacing-4);
    box-sizing: border-box;
    background: color-mix(in srgb, var(--ai-color-bg-primary) 92%, transparent);
    border-radius: var(--ai-radius-xl);
    border: 0.5px solid var(--ai-color-border-heavy);
    box-shadow: var(--ai-elevation-1-shadow);
    padding: var(--ai-spacing-2);
    overflow: hidden;
    transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
  }

  .chatkit-card:hover {
    border-color: color-mix(in srgb, var(--ai-color-text-primary) 25%, transparent);
    background: color-mix(in srgb, var(--ai-color-bg-primary) 88%, rgba(255, 255, 255, 0.08));
  }

  /* Button Component */
  .chatkit-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--ai-spacing-4);
    min-width: 88px;
    height: 44px;
    padding: 0 var(--ai-spacing-12);
    font-family: var(--ai-font-family);
    font-size: var(--ai-font-size-button);
    line-height: var(--ai-line-height-button);
    font-weight: var(--ai-font-weight-button);
    letter-spacing: var(--ai-letter-spacing-button);
    border-radius: var(--ai-radius-full);
    border: none;
    cursor: pointer;
    user-select: none;
    white-space: nowrap;
    transition: background-color 0.15s ease, border-color 0.15s ease, transform 0.1s ease, opacity 0.15s ease;
  }

  .chatkit-button:disabled {
    cursor: not-allowed;
    opacity: var(--ai-opacity-disabled);
  }

  .chatkit-button:not(:disabled):active {
    transform: scale(0.98);
  }

  .chatkit-button-primary {
    background-color: var(--ai-color-brand-primary);
    color: var(--ai-color-brand-on-primary);
    border: none;
  }

  .chatkit-button-primary:not(:disabled):hover {
    opacity: 0.9;
  }

  .chatkit-button-secondary {
    background-color: transparent;
    color: var(--ai-color-text-primary);
    border: 1.5px solid var(--ai-color-border-heavy);
  }

  .chatkit-button-secondary:not(:disabled):hover {
    border-color: var(--ai-color-text-secondary);
    background-color: var(--ai-color-bg-secondary);
  }

  /* Input Component */
  .chatkit-input {
    width: 100%;
    padding: var(--ai-spacing-4) var(--ai-spacing-6);
    font-family: var(--ai-font-family);
    font-size: var(--ai-font-size-body-small);
    line-height: var(--ai-line-height-body-small);
    font-weight: var(--ai-font-weight-body-small);
    letter-spacing: var(--ai-letter-spacing-body-small);
    color: var(--ai-color-text-primary);
    background-color: var(--ai-color-bg-primary);
    border: 1.5px solid var(--ai-color-border-heavy);
    border-radius: var(--ai-radius-base);
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
  }

  .chatkit-input:focus {
    outline: none;
    border-color: var(--ai-color-brand-primary);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--ai-color-brand-primary) 20%, transparent);
  }

  .chatkit-input::placeholder {
    color: var(--ai-color-text-tertiary);
  }

  /* Surface (for elevated backgrounds) */
  .chatkit-surface {
    background: color-mix(in srgb, var(--ai-color-bg-primary) 92%, transparent);
    border-radius: var(--ai-radius-base);
    border: 0.5px solid var(--ai-color-border-heavy);
    box-shadow: var(--ai-elevation-1-shadow);
  }

  /* Badge Component */
  .chatkit-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--ai-spacing-2);
    border-radius: var(--ai-radius-full);
    font-family: var(--ai-font-family);
    font-size: var(--ai-font-size-badge);
    line-height: var(--ai-line-height-badge);
    font-weight: var(--ai-font-weight-badge);
    letter-spacing: var(--ai-letter-spacing-badge);
    white-space: nowrap;
    user-select: none;
    padding: 0 var(--ai-spacing-4);
    height: 24px;
  }

  /* Message Bubbles */
  .chatkit-message-user {
    background-color: var(--ai-color-brand-primary);
    color: var(--ai-color-brand-on-primary);
    border-radius: var(--ai-radius-base);
    padding: var(--ai-spacing-4) var(--ai-spacing-6);
  }

  .chatkit-message-assistant {
    background-color: var(--ai-color-bg-tertiary);
    color: var(--ai-color-text-primary);
    border-radius: var(--ai-radius-base);
    padding: var(--ai-spacing-4) var(--ai-spacing-6);
  }

  /* Scrollbar */
  .chatkit-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: var(--ai-color-border-default) transparent;
  }

  .chatkit-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .chatkit-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .chatkit-scrollbar::-webkit-scrollbar-thumb {
    background-color: var(--ai-color-border-default);
    border-radius: var(--ai-radius-full);
  }

  .chatkit-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: var(--ai-color-border-heavy);
  }
}

@layer utilities {
  .transition-chatkit {
    transition-property: all;
    transition-timing-function: ease;
    transition-duration: 0.15s;
  }
}
